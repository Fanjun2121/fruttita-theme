<!--
  Fruttita Custom Section: Benefits Data Cards
  "六边形战士" — 6 core nutritional highlights
  With scroll-triggered staggered entrance, icons, decorative dividers
-->

<style>
  .fruttita-benefits-section {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding: 5rem 1.5rem 6rem;
    font-family: 'Switzer', sans-serif;
    position: relative;
    overflow: hidden;
  }

  /* Subtle noise texture overlay */
  .fruttita-benefits-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
  }

  .benefits-inner {
    position: relative;
    z-index: 1;
  }

  .benefits-header {
    text-align: center;
    margin-bottom: 3.5rem;
  }

  .benefits-subtitle {
    font-family: 'Pacifico', cursive;
    color: #C6812B;
    font-size: 1.3rem;
    display: block;
    margin-bottom: 0.5rem;
  }

  .benefits-title {
    font-size: 2.2rem;
    font-weight: 800;
    line-height: 1.2;
    letter-spacing: 0.02em;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    max-width: 960px;
    margin: 0 auto;
  }

  .benefit-card {
    background: rgba(244, 227, 201, 0.06);
    border: 1px solid rgba(244, 227, 201, 0.1);
    border-radius: 1.25rem;
    padding: 2.2rem 1.5rem 2rem;
    text-align: center;
    transition: transform 0.4s ease, background 0.4s ease, box-shadow 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .benefit-card.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .benefit-card:hover {
    transform: translateY(-6px);
    background: rgba(244, 227, 201, 0.12);
    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
  }

  .benefit-icon {
    width: 40px;
    height: 40px;
    margin: 0 auto 1rem;
    color: #D38235;
    opacity: 0.85;
  }

  .benefit-icon svg {
    width: 100%;
    height: 100%;
  }

  .benefit-number {
    font-size: 2.6rem;
    font-weight: 800;
    color: #D38235;
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .benefit-divider {
    width: 30px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #D38235, transparent);
    margin: 0.6rem auto;
    border-radius: 2px;
  }

  .benefit-label {
    font-size: 0.95rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-bottom: 0.6rem;
    color: rgba(244, 227, 201, 0.85);
  }

  .benefit-desc {
    font-size: 0.9rem;
    line-height: 1.5;
    color: rgba(244, 227, 201, 0.55);
  }

  @media (max-width: 768px) {
    .fruttita-benefits-section {
      padding: 4rem 1rem 4.5rem;
    }

    .benefits-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .benefit-card {
      padding: 1.5rem 1rem;
    }

    .benefit-number {
      font-size: 2rem;
    }

    .benefit-icon {
      width: 32px;
      height: 32px;
    }

    .benefits-title {
      font-size: 1.8rem;
    }
  }
</style>

<div class="fruttita-benefits-section">
  <div class="benefits-inner">
    <div class="benefits-header">
      <span class="benefits-subtitle">{{ section.settings.subtitle }}</span>
      <h2 class="benefits-title">{{ section.settings.title }}</h2>
    </div>

    <div class="benefits-grid" id="benefitsGrid">
      {% for block in section.blocks %}
        <div class="benefit-card" {{ block.shopify_attributes }} style="transition-delay: {{ forloop.index0 | times: 120 }}ms;">
          <div class="benefit-icon">
            {% case block.settings.icon %}
              {% when 'vitamin-c' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M15 9.5c-.5-1.5-2-2.5-3.5-2.5C9.5 7 8 8.5 8 10.5S9.5 14 12 14c1.5 0 2.5.5 2.5 2s-1 2.5-2.5 2.5c-1.5 0-3-1-3.5-2.5"/></svg>
              {% when 'potassium' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
              {% when 'sodium' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/><path d="M4.93 4.93l14.14 14.14"/></svg>
              {% when 'fiber' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c-4-3-8-6-8-11a4 4 0 018 0 4 4 0 018 0c0 5-4 8-8 11z"/></svg>
              {% when 'low-cal' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"/><path d="M6 18.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z"/><path d="M20 21l-6-6"/><path d="M3 3l18 18"/></svg>
              {% when 'polyphenol' %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a7 7 0 017 7c0 5-7 13-7 13S5 14 5 9a7 7 0 017-7z"/><circle cx="12" cy="9" r="3"/></svg>
              {% else %}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
            {% endcase %}
          </div>
          <div class="benefit-number">{{ block.settings.number }}</div>
          <div class="benefit-divider"></div>
          <div class="benefit-label">{{ block.settings.label }}</div>
          <div class="benefit-desc">{{ block.settings.description }}</div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
  (function() {
    var cards = document.querySelectorAll('#benefitsGrid .benefit-card');
    if (!cards.length) return;
    var observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });
    cards.forEach(function(card) { observer.observe(card); });
  })();
</script>

{% schema %}
{
  "name": "Fruttita Benefits",
  "settings": [
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Hexagonal Warrior"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "六边形战士，无短板"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#4F2C1D"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#F4E3C9"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit Card",
      "settings": [
        {
          "type": "text",
          "id": "number",
          "label": "Number / Value",
          "default": "420mg+"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "天然维C"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Benefit Description",
          "default": "熬夜后提亮气色"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "default": "vitamin-c",
          "options": [
            { "value": "vitamin-c", "label": "Vitamin C (Orange)" },
            { "value": "potassium", "label": "Potassium (Lightning)" },
            { "value": "sodium", "label": "Sodium (Zero)" },
            { "value": "fiber", "label": "Fiber (Leaf)" },
            { "value": "low-cal", "label": "Low Calorie" },
            { "value": "polyphenol", "label": "Polyphenol (Drop)" }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fruttita Benefits",
      "blocks": [
        {
          "type": "benefit",
          "settings": {
            "number": "420mg+",
            "label": "天然维C",
            "description": "熬夜后提亮气色",
            "icon": "vitamin-c"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "number": "380mg+",
            "label": "高钾",
            "description": "物理消肿，告别浮肿脸",
            "icon": "potassium"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "number": "0mg",
            "label": "钠",
            "description": "真·零钠，不锁水",
            "icon": "sodium"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "number": "10g+",
            "label": "膳食纤维",
            "description": "肠道清道夫",
            "icon": "fiber"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "number": "<65kcal",
            "label": "低卡",
            "description": "半个苹果的热量",
            "icon": "low-cal"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "number": "828mg",
            "label": "总多酚",
            "description": "深层抗氧化",
            "icon": "polyphenol"
          }
        }
      ]
    }
  ]
}
{% endschema %}
